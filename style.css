/* ===== ТЕМИ (дві палітри): Dark (за замовч.) і Light ===== */
:root {
  /* Dark — фіолетова */
  --bg:#320D6D;
  --card:#3E1580;
  --card-2:#28095a;
  --border:#53328A;
  --text:#FFF0C8;     /* кремовий як основний текст */
  --muted:#d9cbb0;
  --accent:#FFF0C8;

  --ok:#22c55e;
  --mid:#6e62a6;
  --bad:#ef4444;

  --shadow:0 10px 30px rgba(0,0,0,.35);
}

/* Light — кремова */
:root.light {
  --bg:#FFF0C8;
  --card:#fff9ea;
  --card-2:#fff3d7;
  --border:#f1e0b8;
  --text:#2a1455;
  --muted:#5b4a82;
  --accent:#320D6D;

  --mid:#8577c5;
  --shadow:0 10px 22px rgba(50,13,109,.12);
}

*{box-sizing:border-box}
html,body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,system-ui,ui-sans-serif;
}

.top{
  display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:center;padding:12px
}
.pill{
  padding:6px 12px;border:1px solid var(--border);border-radius:999px;background:color-mix(in srgb, var(--card) 75%, #0000);font-size:12px;color:var(--muted)
}
.theme{margin-left:8px;border:1px solid var(--border);border-radius:999px;padding:4px 8px;cursor:pointer;background:color-mix(in srgb, var(--card) 70%, #0000)}
.theme input{display:none}
.theme span{user-select:none}

.container{max-width:960px;margin:0 auto;padding:12px}
.card{
  background:linear-gradient(180deg,var(--card),var(--card-2));
  border:1px solid var(--border);
  border-radius:18px;
  padding:18px;
  margin:12px 0;
  box-shadow:var(--shadow);
  transition:transform .15s ease
}
.card:active{transform:scale(.998)}
h1{font-size:28px;margin:8px 0 6px;color:var(--accent)}
h2{margin:6px 0 10px;color:var(--accent)}
.muted{color:var(--muted)}
.row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

/* Навігація режимів */
.modes{display:flex;gap:8px;justify-content:center;margin:4px 0 12px}
.tab{border:1px solid var(--border);background:transparent;color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer}
.tab.active{background:color-mix(in srgb, var(--card) 75%, #0000);}

/* Кнопки */
.btn{
  flex:1;min-width:120px;border:none;border-radius:14px;padding:12px 10px;font-weight:700;cursor:pointer;
  transition:transform .06s ease, filter .15s ease;background:#53328A;color:#fff
}
.btn:active{transform:scale(.97)}
.btn.primary{background:linear-gradient(90deg,#8065e0,#a58cf7)}
.btn.ok{background:linear-gradient(90deg,#1f8a4e,#22c55e)}
.btn.mid{background:#6e62a6}
.btn.bad{background:linear-gradient(90deg,#ef4444,#c1121f)}
.input{width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);background:color-mix(in srgb, var(--card) 60%, #0000);color:inherit;margin-top:8px}

/* Список */
.list{display:grid;gap:8px;margin-top:10px}
.item{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:12px;border:1px solid var(--border);border-radius:14px;background:color-mix(in srgb, var(--card) 85%, #0000)}
.item .title{font-weight:800;color:var(--accent)}
.hint{color:var(--muted);font-size:12px;margin-top:6px}

/* MCQ */
.mcq{display:grid;gap:8px;margin-top:12px}
.mcq button{width:100%;text-align:left}

/* Прогрес */
.progress{display:flex;align-items:center;gap:10px;margin-top:14px}
.bar{flex:1;height:10px;background:color-mix(in srgb, var(--card) 60%, #0000);border:1px solid var(--border);border-radius:999px;overflow:hidden}
.bar span{display:block;height:100%;background:linear-gradient(90deg,#31d0aa,#22c55e);transition:width .25s ease}

/* Анімації reveal */
.reveal{animation:fadeIn .25s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}

/* Тости + Canvas FX */
.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:color-mix(in srgb, var(--card) 70%, #0000);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:10px 14px;max-width:92vw;z-index:60;box-shadow:var(--shadow)}
.hidden{display:none}
.fx{position:fixed;inset:0;pointer-events:none;z-index:50}
.mode-area.hidden{display:none}

/* Підсвічування збігів і прикладів */
mark {
  background: color-mix(in srgb, var(--ok) 30%, #0000);
  padding: 0 2px;
  border-radius: 3px;
}

/* Візуально показати, що Easy заблоковано після reveal */
.btn[disabled]{
  opacity: .6;
  cursor: not-allowed;
  filter: saturate(.6);
}
